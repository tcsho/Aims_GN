
<!DOCTYPE html>
<html>
<head>
    <!--<script src="jquery-1.10.2.js" type="text/JavaScript" language="javascript"></script>-->
    <!--PWA-->
    <link rel="manifest" href="./Content/manifest.json">
    <link rel="shortcut icon" href="./Content/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./Content/images/icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./Content/images/icons/favicon-32x32.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="PWA Splash">
    <link rel="apple-touch-startup-image" href="./Content/images/splash/launch-640x1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./Content/images/splash/launch-750x1294.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./Content/images/splash/launch-1242x2148.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./Content/images/splash/launch-1125x2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./Content/images/splash/launch-1536x2048.png" media="(min-device-width: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./Content/images/splash/launch-1668x2224.png" media="(min-device-width: 834px) and (max-device-width: 834px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./Content/images/splash/launch-2048x2732.png" media="(min-device-width: 1024px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-icon" sizes="180x180" href="./Content/images/icons/apple-touch-icon.png">
    <link rel="mask-icon" href="./Content/images/icons/safari-pinned-tab.svg" color="#6F6F6F">
    <!--PWA-->

    <script src="jquery-3.3.1.min.js" type="text/JavaScript" language="javascript"></script>
    <script src="jquery-ui-1.10.4.custom.js"></script>
    <script src="jquery.PrintArea.js" type="text/JavaScript" language="javascript"></script>

    <link type="text/css" rel="stylesheet" href="css/ui-lightness/jquery-ui-1.10.4.custom.css" />

    <link type="text/css" rel="stylesheet" href="PrintArea3.css" />                <!-- Y : rel is stylesheet and media is in [all,print,empty,undefined] -->
    <link type="text/css" rel="stylesheet" href="media_all.css" media="all" />   <!-- Y : rel is stylesheet and media is in [all,print,empty,undefined] -->
    <link type="text/css" rel="" href="empty.css" />                    <!-- N : rel is not stylesheet -->
    <link type="text/css" rel="noPrint" href="noPrint.css" />                  <!-- N : rel is not stylesheet -->
    <link type="text/css" rel="stylesheet" href="media_none.css" media="xyz" />   <!-- N : media not in [all,print,empty,undefined] -->
    <link type="text/css" href="no_rel.css" media="print" /> <!-- N : no rel attribute -->
    <link type="text/css" href="no_rel_no_media.css" /> <!-- N : no rel, no media attributes -->
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
    <!--<link rel="stylesheet" type="text/css"  href="bootstrap/css/bootstrap.css.map">-->

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="qr-code.js"></script>
</head>
<body>
    <div class="container">
        <div class="overlay"></div>
        <div class="row printview">
            <div class="button b1 btn btn-primary  tooltip "><i class="fa fa-print" data-toggle="tooltip" data-placement="bottom" title="Print"></i><span class="tooltiptext">Print</span></div>
        </div>
        <div class="PrintArea area1 all" id="Retain">
            <!--boostrap-->

            <div class="container" id="serachprinttable">
                <!--container-->

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding">

                    <!--section 1--->

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 displayflex">
                        <p><span class="headerstudentname"></span><span class="floatright headerstudentcenter"></span></p>

                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 sec1 article">
                        <!--<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <h5 class="text-right">S013-GulshanABoysCampusKarachi</h5>
                        </div>-->

                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <h2 class="text-right schoolname">The City School </h2>

                        </div>

                        <div class="row rowdisplayflex headerwithlogo">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 visiblity-hidden_mediaclass">
                                <!--visiblity-hidden_mediaclass-->
                                <!--<div id="qrcode"></div>-->
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-mediaalign">
                                <h4><span class="termname"></span> Report Card <span class="yearname">2020-2021</span></h4>
                                <h4 class="fullnamestudent"></h4>
                                <h4><span class="classname"></span> - <span class="classsec"></span></h4>

                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 text-mediaalignright schoollogo">
                                <img src="images/logo.png" />
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 dobtable">
                            <table class="table table-bordered class_wisetable">
                                <thead>
                                <th>Sr. #</th>
                                <th>ERP #</th>
                                <th>Exam Roll  #</th>
                                <th>Student Name</th>
                                <th>Examination Room #</th>

                                </thead>


                                <tbody>
                                </tbody>
                            </table>
                        </div>


                    </div>

                    <!--section 1--->



                </div>
            </div>

            <!--bootsrap-->
        </div>




    </div>



    <div style="border: solid 2px #999fff; float: left; margin-left: 20px;" class="SettingsBox">
        <div style="width: 400px; padding: 20px;">
            <div style="padding: 0 10px 10px;" class="buttonBar">
                <div class="button b1">Print</div>
                <div class="toggleDialog">open dialog</div>
            </div>

            <div style="font-weight: bold; border-top: solid 1px #999fff; padding-top: 10px;">Settings</div>
            <table>
                <tbody>
                    <tr>
                        <td><input value="popup" name="mode" id="popup" checked="" type="radio"> Popup</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px;"><input value="popup" name="popup" id="closePop" type="checkbox"> Close popup</td>
                    </tr>
                    <tr>
                        <td><input value="iframe" name="mode" id="iFrame" type="radio"> IFrame</td>
                    </tr>
                    <tr>
                        <td>Extra css: <input type="text" name="extraCss" size="50" /></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="settingName">Print area:</div>
                            <div class="settingVals">
                                <input type="checkbox" class="selPA" value="area1" checked /> Area 1<br>
                                <input type="checkbox" class="selPA" value="area2" checked /> Area 2<br>
                                <input type="checkbox" class="selPA" value="area3" checked /> Area 3<br>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="settingName">Retain Attributes:</div>
                            <div class="settingVals">
                                <input type="checkbox" checked name="retainCss" id="retainCss" class="chkAttr" value="class" /> Class
                                <br>
                                <input type="checkbox" checked name="retainId" id="retainId" class="chkAttr" value="id" /> ID
                                <br>
                                <input type="checkbox" checked name="retainStyle" id="retainId" class="chkAttr" value="style" /> Style
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div style="padding: 3px; border: solid 1px #ddd;">
                                Add to head :
                                <input type="checkbox" checked name="addElements" id="addElements" class="chkAttr" />
                                <pre>&lt;meta charset="utf-8" /&gt;<br>&lt;http-equiv="X-UA-Compatible" content="IE=edge"/&gt;</pre>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>



        <footer>okss</footer>
    </div>
  
    <script>
        var alreadyt = "";
        var alreadyc = "";
        var Roomarray = [];
        Roomarray.length = 0;
        var Classarray = [];
        Classarray.length = 0;
        var dataadd = [];
        dataadd.length = 0;

          var result=[
    {
    "$id": "1",
    "Room_Id": 1,
    "StudentMaskNo": "4001",
    "Class_Id": 8,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 4",
    "Center_Name": [
    {
    "$id": "2",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },
    {
    "$id": "3",
    "Room_Id": 1,
    "StudentMaskNo": "4002",
    "Class_Id": 8,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 4",
    "Center_Name": [
    {
    "$id": "4",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },
    {
    "$id": "5",
    "Room_Id": 1,
    "StudentMaskNo": "4003",
    "Class_Id": 8,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 4",
    "Center_Name": [
    {
    "$id": "6",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },
    {
    "$id": "7",
    "Room_Id": 1,
    "StudentMaskNo": "4004",
    "Class_Id": 8,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 4",
    "Center_Name": [
    {
    "$id": "8",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },

    {
    "$id": "31",
    "Room_Id": 1,
    "StudentMaskNo": "5001",
    "Class_Id": 9,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 5",
    "Center_Name": [
    {
    "$id": "32",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },
    {
    "$id": "33",
    "Room_Id": 1,
    "StudentMaskNo": "5002",
    "Class_Id": 9,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 5",
    "Center_Name": [
    {
    "$id": "34",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },

    {
    "$id": "61",
    "Room_Id": 1,
    "StudentMaskNo": "6001",
    "Class_Id": 10,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 6",
    "Center_Name": [
    {
    "$id": "62",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },

    {
    "$id": "79",
    "Room_Id": 1,
    "StudentMaskNo": "7001",
    "Class_Id": 11,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 7",
    "Center_Name": [
    {
    "$id": "80",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    },
    {
    "$id": "81",
    "Room_Id": 1,
    "StudentMaskNo": "7002",
    "Class_Id": 11,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 7",
    "Center_Name": [
    {
    "$id": "82",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
              },
    {
    "$id": "81",
    "Room_Id": 2,
    "StudentMaskNo": "8002",
    "Class_Id": 13,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 8",
    "Center_Name": [
    {
    "$id": "82",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
              },
    {
    "$id": "82",
    "Room_Id": 2,
    "StudentMaskNo": "8003",
    "Class_Id": 13,
    "Session_Id": 11,
    "Center_Id": 2010201,
    "TermGroup_Id": 1,
    "Class_Name": "Class 8",
    "Center_Name": [
    {
    "$id": "82",
    "Center_Name": "S004- Darakhshan Campus Karachi"
    }
    ]
    }
    ]


        for (var tr = 0; tr < result.length; tr++) {


            if (alreadyt != result[tr].Room_Id) {
                /**FIRST tIME USER**/
                if (alreadyt == "" && alreadyc == "") {
                    Classarray.push({
                        StudentMaskNo: result[tr].StudentMaskNo
                    });
                    Roomarray.push({

                        Class_Id: result[tr].Class_Id,
                        ClassName: result[tr].Class_Name,
                        Classwise: Classarray
                    });


                    dataadd.push({
                        Room_Id: result[tr].Room_Id,

                        Roomwise: Roomarray,

                    });
                    alreadyt = result[tr].Room_Id;
                    alreadyc = result[tr].Class_Id;
                }
                /**FIRST tIME USER**/

                else {
                    Roomarray = [];
                    Classarray.push({
                        StudentMaskNo: result[tr].StudentMaskNo
                    });
                    Roomarray.push({

                        Class_Id: result[tr].Class_Id,
                        ClassName: result[tr].Class_Name,
                        Classwise: Classarray
                    });
                    dataadd.push({
                        Room_Id: result[tr].Room_Id,

                        Roomwise: Roomarray,

                    });
                    alreadyt = result[tr].Room_Id;
                    alreadyc = result[tr].Class_Id;
                }
            }
            else {
                if (alreadyc != result[tr].Class_Id) {
                    Classarray = [];
                    Classarray.push({
                        StudentMaskNo: result[tr].StudentMaskNo
                    });
                    Roomarray.push({

                        Class_Id: result[tr].Class_Id,
                        ClassName: result[tr].Class_Name,
                        Classwise: Classarray
                    });
                    alreadyc = result[tr].Class_Id;
                }
                else {
                    Classarray.push({
                        StudentMaskNo: result[tr].StudentMaskNo
                    });

                }

                //Roomarray.push({

                //     Class_Id: result[tr].Class_Id,
                //    ClassName: result[tr].Class_Name,
                //    Classwise:Classarray
                //});
            }

        }//first forloop

        console.log("result" + JSON.stringify(dataadd));


    </script>
    <style>
        .overlay {
            background: url('./images/loader.gif') no-repeat center center;
            background-size: cover;
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            z-index: 9999999;
            background-color: rgba(0,0,0,0.5);
            display: none;
        }
    </style>
</body>
</html>